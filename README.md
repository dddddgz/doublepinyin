# DoublePinyin 双拼练习器

## 创作背景

长篇大论，不要看直接跳过。

1. 双拼真的很好用，理由有以下几点：
    - 双拼可以提高打字速度。虽然也存在三个拖慢打字速度的情况（作为零声母使用的 `a` `o` `e`），但它们的使用频率极少，而且大部分输入法（点名不具备此功能的微软输入法，Windows 自带的那个）只要输入 `a` `o` `e` 就可以显示出以 `a` `o` `e` 为拼音的字了。
    - 双拼让每个按键使用到的频率更均匀了。由于 `h` 有 `h` `zh` `ch` `sh` 四种被用到的情况、`n` 有 `n` `an` `en` `in` `un` `ün`（`ün` 100% 会被改写成 `un`）`ang` `eng` `ing` `ong`（后略），这就说明全拼部分按键的重复使用频率是很高的，而一些按键则几乎没有用到（`v` `o`），全拼的按键是很不均衡的。双拼解决了这个问题，它给 23 个按键都分配了一个声母和一个韵母。
    - 基本上所有现代电脑都已经配备了双拼输入功能（虽然双拼输入方案可能不是很完整，点名上面提到的那个微软没常用的小鹤），用起来很方便，既然随时随地都可以用，为什么还要使用打字速度慢的全拼呢？
2. 虽然双拼已经很普及了，但用来练习双拼的桌面程序并不多（也有可能是我没有了解到），就写一个。
3. 很久没有编写有用的程序了，以前写了也是不久就断更，我想写一个长期保持更新状态的程序，顺便练习自己的 UI 开发技能（很久没有用过 `tkinter` `ttkbootstrap` 了），正则表达式几乎不会用。
4. Git 和 GitHub 的操作也已生疏了，借机练习。
5. “开源”和“免费”似乎越来越难做到了。有人还会为“闭源”和“收费”辩护，这点我虽然不完全反对（毕竟活着是人类必须满足的需求，在这个人口过多到处都存在竞争的社会上更是如此，人性被体现得淋漓尽致），但开源和免费有那么难吗？赚钱养活自己是每个人人生中的一个必然阶段，社会人满为患的情况下，一个人无法赚钱养不活自己意味着被社会淘汰了。但我想问，那些大企业没有钱，一定需要通过闭源等着用户购买/充值的方式赚钱吗？现在广告随处可见，跳过广告为什么也要收费？在网络上使用一个功能（论坛之类的交流地点除外）为什么也要登录注册？（还必须用手机号，这就大大增加了个人信息泄露的风险）与冰冷的网络相比，现实反倒算是人性化的了，一些共享交通工具如果使用时间不满 1 小时（或一个单位时间）甚至不收费。用自己学会的编程语言编写一个实用的小工具，难道不是在为社会做贡献吗？哪怕微不足道，这就不是贡献了吗？社会竞争激烈，谁说参加命运莫测的竞争比默默无闻地写程序伟大得多？考试成绩再好，学习再好，如果不把它用作有益的事情，这有什么用吗？（不是说成绩好没用，成绩好并且希望把它用在有用的、对是人的人有好处的地方，有些人无论怎么被伤害都不必考虑）把自己的成果和作出这个成果的过程分享出来，让其他愿意学习的人也看，这难道就不是一种伟大的事业了？我不是在自夸（请不要对这句话作出评论，这不是这里长篇大论讨论的重点），只是想尽我所能（不要对这句话作出评论，人机喷子，特别是某些平台上的的一部分渣滓给我滚），尽量说服每一个看到这个页面的人，开源才真正伟大。
6. 对于第 5 条，后来想到，如果一个平台有通过付费表示支持开发者的通道，且平台有大量可以免费查看的（使用平台上的积分之类的内容的话，这是一种可以让人们长期保持对平台兴趣的方法，特别是平台的初衷是容易让人中途放弃但如果坚持了可以让人受益匪浅的活动）、精彩的、有益的内容的话这是非常正常并且要被大力鼓励的，这里就不举例了，毕竟人机喷子的嘴是关不住的。

## 运行步骤

### Step 1：下载代码

```
git clone https://github.com/dddddgz/doublepinyin
```

### Step 2：下载代码所需要的内容

```
pip install pypinyin ttkbootstrap
```

有些 Python 环境可能需要以下这行代码：

```
python3 -m pip install pypinyin ttkbootstrap
```

### Step 3：运行代码

```
cd doublepinyin
python main.py
```

有些：

```
cd doublepinyin
python3 main.py
```

## 使用文档

https://fishc.com.cn/thread-249454-1-1.html

## 技术性文档

### 双拼方案

本程序通过检索 `main.py` 运行目录下的 `plans` 文件夹下的所有 `.json` 文件来寻找可用的双拼方案。

上述 `.json` 文件格式如下：（`a` 表示 `zh` `ch` `sh` 和韵母，`b` 表示 `a` 对应按键，`c` 表示零声母，`d` 表示 `c` 对应按键）

```json
{
  "name": "双拼方案名称",
  "<a0>": "<b0>",
  "<a1>": "<b1>",
  ...
  "<c0>": "<d0>",
  "<c1>": "<d1>",
  ...
}
```

每一份 JSON 应有的 `a` 和 `c` 如下表：

| `a`    | `c`    |
|:-------|:------:|
| `zh`   |        |
| `ch`   |        |
| `sh`   |        |
| `a`    | `_a`   |
| `o`    | `_o`   |
| `e`    | `_e`   |
| `i`    |        |
| `u`    |        |
| `ü`    |        |
| `ai`   | `_ai`  |
| `ei`   | `_ei`  |
| `ui`   |        |
| `ao`   | `_ao`  |
| `ou`   | `_ou`  |
| `iu`   |        |
| `ie`   |        |
| `üe`   |        |
|        | `_er`  |
| `an`   | `_an`  |
| `en`   | `_en`  |
| `in`   |        |
| `un`   |        |
| `ün`   |        |
| `ang`  | `_ang` |
| `eng`  | `_eng` |
| `ing`  |        |
| `ong`  |        |
| `ia`   |        |
| `ua`   |        |
| `uo`   |        |
| `uai`  |        |
| `iao`  |        |
| `ian`  |        |
| `uan`  |        |
| `üan`  |        |
| `iang` |        |
| `uang` |        |
| `iong` |        |